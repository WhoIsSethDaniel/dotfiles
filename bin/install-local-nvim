#!/bin/bash

rmtmpdir() {
    [[ -n $tmpdir ]] && rm -rf "$tmpdir"
}

tmpdir=$(mktemp -q -d --tmpdir install-nvim.XXXXXXX)
trap rmtmpdir EXIT

cd "$tmpdir" || exit
curl -LSo nvim.tar.gz https://github.com/neovim/neovim/releases/download/nightly/nvim-linux64.tar.gz

cd ~/lib || exit
rm -rf nvim

tar xzvf "$tmpdir"/nvim.tar.gz
mv nvim-linux64 nvim
