#!/bin/bash

function install_font() {
    local name=$1
    local url=$2

    local dir=$HOME/.local/share/fonts/${name}
    echo "installing ${name} to ${dir}"
    mkdir -p "$dir"
    pushd "$dir" || return
    wget -O font.zip "$url"
    unzip -o font.zip
    rm -f font.zip
    popd || return
}

version=$(curl -s https://api.github.com/repos/ryanoasis/nerd-fonts/releases/latest | grep tag_name | cut -d '"' -f 4)
install_font DejaVuSansMono https://github.com/ryanoasis/nerd-fonts/releases/download/"$version"/DejaVuSansMono.zip
install_font Hack https://github.com/ryanoasis/nerd-fonts/releases/download/"$version"/Hack.zip
install_font Ubuntu https://github.com/ryanoasis/nerd-fonts/releases/download/"$version"/Ubuntu.zip
install_font CascadiaCode https://github.com/ryanoasis/nerd-fonts/releases/download/"$version"/CascadiaCode.zip

fc-cache -fv
